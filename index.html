<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Potta+One&display=swap" rel="stylesheet">
<title>Etch-a-Sketch</title>
<style>
	h1{
		margin-top: 20px;
		margin-bottom: 1px;
	}
	h3{
		margin-top: 5px;
		margin-bottom: 5px;
	}
	body {
		background-image: radial-gradient(#ccf5ff, #a3a3c2);
	}

	.button{
		background-color: #d9c4f5;
		border: none;
		font-size: 16px;
		padding: 4px;
		text-align: center;
		cursor: pointer;
		transition: all 0.5s;
		border-radius: 5px;
		outline: none;
	}
	.font{
		font-family: 'Potta One' , cursive;
	}
	.center {
		display: flex;
		justify-content: center;
		align-items: center;
		height: 800px;
		flex-direction: column;
	}
	#gridContainer {
		display: grid;
  		grid-template-columns: repeat(var(--grid-rows), 1fr);
  		grid-template-rows: repeat(var(--grid-cols), 1fr);
  		background-color: #99bbff;
  		padding: 10px;
  		height: 600px;
  		width: 35%;
	}
	.gridItems {
  		background-color: white;
	}
	.gridItems:hover{
		background-color: black;
	}
	#clearBtn {
		padding: 5px;
		margin-top: 10px;
	}

	.slider{
		-webkit-appearance: none;
		width: 300px;
		height: 12px;
		border-radius: 5px;
		background: #d3d3d3;
		outline: none;
		opacity: 0.7;
		-webkit-transition: .2s;
		transition: opacity .2s;
	}
	.slider:hover {
		opacity: 1;
	}
	.slider::-webkit-slider-thumb {
	  -webkit-appearance: none;
	  appearance: none;
	  width: 25px;
	  height: 25px;
	  border-radius: 50%;
	  background: #99bbff;
	  cursor: pointer;
	}

</style>
</head>

<body>
<div class="center font" >
<h1>Etch-a-sketch</h1>
	<h3>
		<button id="randomRGB" class="button font">Rainbow</button>
		<input type="color" id="colorInput" value ="#000000" onchange="newColor(this.value)">
	</h3>

	<h3>
		<input type="range" class ="slider" id ="rangeInput" min="1" max="100" value="50" onchange="twoCalls(this.value)">
	</h3>

	<div id="gridContainer" class="gridContainers">
	</div>
	
	<div>
		<button id="clearBtn" class="button font">Clear</button>
	</div>

</div>
</body>

</html> 


<script type="text/javascript">

	const gridContainer = document.getElementById("gridContainer");

	function makeGrids(rows, cols){
		gridContainer.style.setProperty('--grid-rows', rows);
		gridContainer.style.setProperty('--grid-cols', cols);
		for (let i = 0; i < (rows * cols); i++){
			let grids = document.createElement("div");
			gridContainer.appendChild(grids).className = "gridItems"
		}
		let gridVar = document.getElementsByClassName("gridItems");

		for (let i = 0; i < gridVar.length; i++){
			gridVar[i].addEventListener('mouseenter', function(event){
				event.target.style.backgroundColor = "black";}, false);
		}
	}
/* Future feature
	let cells = gridVar
	function clickToggle(){

		gridVar.classList.toggle("gridItems");

	}
*/



	function hoverFunction(e) {
		e.target.style.backgroundColor = "red";
		//this.setAttribute("style" , "background-color: " + "red" + ";" );

	}

	function deleteGrids(){
		let deletedGrids = document.getElementsByClassName("gridItems");

		while(deletedGrids[0]){
			deletedGrids[0].parentNode.removeChild(deletedGrids[0]);
		}
		
	}

	function colorSetter(e){
		document.getElementById("colorInput").value = e;

	  	return document.getElementById("colorInput").value.toString();
	}

	function newColor(colorValue){

	  	let gridVar = document.getElementsByClassName("gridItems");

		for (let i = 0; i < gridVar.length; i++){
			gridVar[i].addEventListener('mouseenter', function(event){
				event.target.style.backgroundColor = colorSetter(colorValue);}, false);
		}
	}

	function randomColor(){

		let gridVar = document.getElementsByClassName("gridItems");

		for (let i = 0; i < gridVar.length; i++){
			gridVar[i].addEventListener('mouseenter', function(event){
				event.target.style.backgroundColor = colorGenerator();}, false);
		}
	}

	function colorGenerator(){
		let rColor = Math.floor(Math.random()*16777215).toString(16);
		return "#" + rColor
	}
/*  Future feature
	function grayScale(){

		let gridVar = document.getElementsByClassName("gridItems");

		for (let i = 0; i < gridVar.length; i++){
			gridVar[i].addEventListener('mouseenter', function(event){
				event.target.style.backgroundColor = grayIncrement();}, false);
		}

	}

	function grayIncrement(){
		rgb(value,value,value)
		if (value !== 0){
			value -= 25;
		} else {
			return 0;
		}

		return rgbvalue
	}
*/

	function twoCalls(a){
		deleteGrids();
		makeGrids(a,a);
}

makeGrids(50,50);

const clearButton = document.querySelector('#clearBtn');

clearButton.addEventListener('click', (event) => {
	
	let gridVar = document.getElementsByClassName("gridItems");
	
	for (let i = 0; i < gridVar.length; i++){
		gridVar[i].setAttribute("style", "background-color: white;");
	}

});

const rgbButton = document.querySelector('#randomRGB');

rgbButton.addEventListener('click', (event) => {

	randomColor();

});

</script>

